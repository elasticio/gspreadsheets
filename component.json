{
  "title": "Google Spreadsheets",
  "description": "Spreadsheets from Google",
  "buildType": "docker",
  "docsUrl": "/components/gspreadsheet/actions#add-spreadsheet-row",
  "url": "http://www.google.com/spreadsheets/",
  "env": [
    "GOOGLE_APP_ID",
    "GOOGLE_APP_SECRET",
    "TENANT_DOMAIN"
  ],
  "credentials": {
    "fields": {
      "oauth": {
        "label": "Authentication",
        "viewClass": "OAuthFieldView",
        "required": true
      }
    },
    "oauth2": {
      "client_id": "{{GOOGLE_APP_ID}}",
      "client_secret": "{{GOOGLE_APP_SECRET}}",
      "auth_uri": "https://accounts.google.com/o/oauth2/v2/auth",
      "token_uri": "https://www.googleapis.com/oauth2/v4/token",
      "scopes": [
        "https://www.googleapis.com/auth/spreadsheets",
        "https://www.googleapis.com/auth/drive.metadata.readonly"
      ],
      "access_type": "offline",
      "prompt": "consent"
    }
  },
  "triggers": {
    "newSpreadsheetRow": {
      "main": "./lib/triggers/newSpreadsheetRow.js",
      "title": "Get Spreadsheet Row",
      "help": {
        "description":"Trigger to read the data in each row of a given Google Spreadsheet and pass it to the next step of your integration flow.",
        "link" : "/components/gspreadsheet/triggers#get-spreadsheet-row"
      },
      "type": "polling",
      "fields": {
        "spreadsheetId": {
          "viewClass": "SelectView",
          "prompt": "Select your spreadsheet",
          "label": "Spreadsheet",
          "required": true,
          "model": "listSpreadsheets"
        },
        "worksheetName": {
          "viewClass": "SelectView",
          "prompt": "Select your worksheet",
          "label": "Worksheet",
          "required": true,
          "model": "listWorksheets"
        },
        "dimension": {
          "viewClass": "SelectView",
          "prompt": "Select dimension",
          "label": "Dimension",
          "required": true,
          "model": {
            "ROWS": "Rows",
            "COLUMNS": "Columns"
          }
        },
        "includeHeader": {
          "viewClass": "SelectView",
          "prompt": "Yes/No",
          "label": "Use first row or column as a header",
          "required": true,
          "model": {
            "yes": "Yes",
            "no": "No"
          }
        },
        "fetchAllData": {
          "viewClass": "SelectView",
          "prompt": "Yes/No",
          "label": "Select All Data",
          "required": true,
          "model": {
            "yes": "Yes",
            "no": "No"
          }
        }
      }
    },
    "rows": {
      "deprecated": "true",
      "main": "./lib/triggers/rows.js",
      "title": "Rows",
      "help": {
        "description":"This is a deprecated trigger. Please use Get Spreadsheet Row Trigger instead.",
        "link" : "/components/gspreadsheet/triggers#rowsdeprecated"
      },

      "type": "polling",
      "fields": {
        "spreadsheetURL": {
          "viewClass": "SelectView",
          "prompt": "Select your spreadsheet",
          "label": "Spreadsheet",
          "required": true,
          "model": "listSpreadsheets"
        }
      },
      "dynamicMetadata": true
    }
  },
  "actions": {
    "addrow": {
      "deprecated": true,
      "main": "./lib/actions/addrow.js",
      "title": "Add Row",
      "help" : {
        "description":"This action is deprecated. Please use Add Spreadsheet Row.",
        "link" : "/components/gspreadsheet/actions#add-rowdeprecated"
      },
      "fields": {
        "spreadsheetURL": {
          "viewClass": "SelectView",
          "prompt": "Select your spreadsheet",
          "label": "Spreadsheet",
          "required": true,
          "model": "listSpreadsheets"
        }
      },
      "dynamicMetadata": true
    },
    "createSpreadsheet": {
      "main": "./lib/actions/createSpreadsheet.js",
      "title": "Create new Spreadsheet",
      "help" : {
        "description":"Action to create a new Google spreadsheet.",
        "link" : "/components/gspreadsheet/actions#create-new-spreadsheet"
      },
      "metadata": {
        "in": "./schemas/createSpreadsheet.in.json",
        "out": "./schemas/createSpreadsheet.out.json"
      }
    },
    "createSpreadsheetRow": {
      "main": "./lib/actions/createSpreadsheetRow.js",
      "title": "Add Spreadsheet Row",
      "help" : {
        "description" : "Action appends new row to spreadsheet",
        "link": "/components/gspreadsheet/actions#add-spreadsheet-row"
      },
      "fields": {
        "spreadsheetId": {
          "viewClass": "SelectView",
          "prompt": "Select your spreadsheet",
          "label": "Spreadsheet",
          "required": true,
          "model": "listSpreadsheets"
        },
        "worksheetId": {
          "viewClass": "SelectView",
          "prompt": "Select your worksheet (spreadsheet required)",
          "label": "Worksheet",
          "required": true,
          "model": "listWorksheets"
        },
        "mode": {
          "viewClass" : "SelectView",
          "prompt" : "Choose input mode. Default: First Row As Headers.",
          "required" : false,
          "label": "Input Mode",
          "model": {
            "header" : "First Row As Headers",
            "array" : "Array Based"
          }
        }
      },
      "dynamicMetadata": true
    }
  }
}
